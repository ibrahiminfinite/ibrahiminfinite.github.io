<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Google Summer of Code - Journal | V Mohammed Ibrahim</title>
    <meta name="author" content="V Mohammed Ibrahim">
    <meta name="description" content="GSoC 2023 adventures">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Bootstrap Table -->
    <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/logo_new.webp">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://ibrahiminfinite.github.io/blog/2023/GSoC-journey/">

    <!-- Dark Mode -->
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/">V Mohammed Ibrahim</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      
        <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Google Summer of Code - Journal</h1>
    <p class="post-meta">July 9, 2023</p>
    <p class="post-tags">
      <a href="/blog/2023"> <i class="fas fa-calendar fa-sm"></i> 2023 </a>
        ·  
        <a href="/blog/tag/life">
          <i class="fas fa-hashtag fa-sm"></i> life</a>  
          

    </p>
  </header>

  <article class="post-content">
    
    <div id="markdown-content">
      <p>MoveIt is a prevalent open-source library in the robotic manipulation world, and it is the default choice for robotic manipulation with ROS2.
There were many projects to choose from; however, the one I found interesting was the Servo refactoring project, and discussions with the potential project mentors (Sebastain and Andy, super helpful and very cool people) revealed that it would be a welcome contribution.</p>

<p>I spent some time understanding how to navigate the MoveIt codebase and the workflow. My first contribution was a small but beneficial performance optimization for the Rukig trajectory smoothing. This process gave me an overview of the contribution and review process for Moveit. Moreover, it gave me a sense of what to expect from the community.</p>

<p>The next step was to understand the Servo and its usage. An initial pass-through made it clear that the intended use case had evolved; the rigidity of the original design was noticeable. At this point, I stopped looking at the code and started looking through the issues and discussions to find any information regarding Servo, and it led me to a GitHub discussion written by a maintainer of MoveIt, regarding the design issues existing in MoveIt, which provided insight into the design goals that MoveIt was striving for. Now armed with the knowledge of Servo’s current limitations, the expected results for the project, and a set of design goals to guide the new design, I went back to the Servo codebase for a detailed study.</p>

<p>The second analysis identified and isolated the core functionalities, use cases, and the data flow within MoveIt Servo. Based on the data gathered from this and the previous research, I prepared a design draft for the new implementation and presented it to the mentors. We finalized a design after a couple of iterations.</p>

<p>At this point, the application period had started; I submitted my application which contained the proposed design, a rough timeline, and some relevant information about me. I had done everything as diligently as possible till then; the rest was up to the process. However, my motivation for participating in GSoC is to make meaningful open-source contributions, so I set out to find more issues to solve within MoveIt.</p>

<p>While going through the issues, I came across one that suggested changing a hardcoded parameter in the Butterworth filter plugin to a more configurable ROS 2 parameter using the generate_parameter_library. I found this issue interesting because one of the things that the proposal iterations added is the migration of Servo to generate_parameter_library, which is PickNik’s solution to standardize the use of ROS2 parameters within MoveIt, as a stretch goal for the project. So I got to work figuring out how to integrate generate_parameter_library into the online_trajectory_smoothing package, which contained the Butterworth plugin; this exercise equipped me with the understanding necessary to finish the stretch goal easily, and I also ended up making another useful contribution.</p>

<p>The results are still half a month away, but I decided to tackle the stretch goal; if I ended up getting selected, I would have less work to do and could focus on more interesting elements of the project,  and if I did not get selected I would still have made progress on my original goal of creating more open-source contributions, with that decided, I mapped out the changes necessary to migrate Servo to use generate_parameter_library; even though the changes propagated throughout the codebase, they were not very involved, after one week of work, I had Servo migrated to generate_parameter_library, which was a significant contribution. As a bonus, I became more accustomed to the inner workings of Servo.</p>

<p>The GSoC selections came in on the 4th of May; MoveIt had two contributor slots, and I was one among them. It was a joyous moment; my dedication had paid off, and now I would get paid to do cool stuff. After a discussion with my mentors the next day, the official GSoC work started, May is for community bonding; however, there was already good communication between the mentors and me. In addition, I got introduced to the MoveIt maintainer meeting and met more of the people who kept MoveIt running.</p>

<p>I immediately started experimenting with the new design for C++ APIs, as that was the main focus of this refactor; this was a significantly involved process as it required understanding not only the language constructs necessary to implement the design but also the robotics concepts and the significance of the mathematical operations used within Servo in addition to the MoveIt components. One month later, I had all the required C++ APIs working, along with a demo for each of those APIs.</p>

<p>Now came the part I knew would consume a major chunk of my time, writing the tests, mainly because I had limited exposure to testing and needed to learn how to set up tests when using ROS. The process took half a month, understanding the testing framework, figuring out the best way to test the APIs, and fixing any bugs found along the way. There was also a good refactoring of the inner logic of Servo to make it more test friendly and adhere to the design goals of MoveIt. The cause for this was that I followed the original implementation to some extent without questioning the validity of the signatures of some of the functions during my analysis, which introduced unnecessary dependencies that I could have identified in the design stage and avoided.</p>

<p>It was time for mentor reviews, and we evaluated the APIs, applied the necessary changes, and gave it a good round of testing. The foundation of the new Servo was ready now, and I proceeded to implement the ROS APIs. Due to the time invested in establishing a good design, getting the ROS APIs done was easy.</p>

<p>To be continued…</p>

    </div>
  </article>
</div>

      
    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        © Copyright 2023 V Mohammed Ibrahim. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>.

      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script>

  <!-- Bootstrap Table -->
  <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>

  <!-- Load Common JS -->
  <script src="/assets/js/no_defer.js"></script>
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
